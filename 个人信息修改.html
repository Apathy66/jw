<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">


    <title>个人信息修改</title>
    <link rel="shortcut icon" href="http://jwstudent.lnu.edu.cn/img/icon/favicon.ico" type="image/x-icon">
    <meta name="description" content="overview &amp; stats">

    <!-- bootstrap & fontawesome -->
    <!--     <link rel="stylesheet" type="text/css" href="/static/template.css"/> -->

    <link rel="stylesheet" href="./个人信息修改_files/bootstrap.min.css">

    <link rel="stylesheet" href="./个人信息修改_files/style-main.css">


    <link rel="stylesheet" href="./个人信息修改_files/font-awesome.min.css">
    <link rel="stylesheet" href="./个人信息修改_files/iconfont.css">
    <!-- page specific plugin styles -->
    <link rel="stylesheet" href="./个人信息修改_files/jquery-ui.min.css" type="text/css">

    <link rel="stylesheet" href="./个人信息修改_files/chosen.css">



    <!-- page specific plugin styles -->

    <!-- jquery ui grid -->

    <!-- jquery ui grid -->

    <!-- text fonts -->

    <link rel="stylesheet" href="./个人信息修改_files/fonts-woff2.css">

    <!-- ace styles -->
    <link rel="stylesheet" href="./个人信息修改_files/ace.min.css" id="main-ace-style">

    <!--[if lte IE 9]>
    <link rel="stylesheet" href="/assets/css/ace-part2.min.css"/>
    <![endif]-->



    <!--[if lte IE 9]>
    <link rel="stylesheet" href="/assets/css/ace-ie.min.css"/>
    <![endif]-->

    <!-- inline styles related to this page -->

    <!-- ace settings handler -->
    <script src="./个人信息修改_files/ace-extra.min.js.下载"></script>

    <!-- HTML5shiv and Respond.js for IE8 to support HTML5 elements and media queries -->

    <!--[if lte IE 8]>
    <script src="/assets/js/html5shiv.min.js"></script>
    <script src="/assets/js/respond.min.js"></script>
    <![endif]-->
    <!-- basic scripts -->

    <!--[if !IE]> -->
    <script src="./个人信息修改_files/jquery-3.4.1.min.js.下载"></script>
    <script src="./个人信息修改_files/jquery-migrate-3.1.0.min.js.下载"></script>
    <!-- <![endif]-->

    <!--[if IE]>
    <script src="/js/jQuery/jquery-3.4.1.min.js"></script>
	<script src="/js/jQuery/jquery-migrate-1.4.1.min.js"></script>
    <![endif]-->

    <script type="text/javascript">
        if ('ontouchstart' in document.documentElement) document.write("<script src='/assets/js/jquery.mobile.custom.min.js'>" + "<" + "/script>");
    </script>


    <script type="text/javascript" src="./个人信息修改_files/WdatePicker.js.下载"></script>
    <link href="./个人信息修改_files/WdatePicker.css" rel="stylesheet" type="text/css">

    <script type="text/javascript" src="./个人信息修改_files/chosen.jquery.min.js.下载"></script>

    <!-- ace scripts -->
    <script src="./个人信息修改_files/ace-elements.min.js.下载"></script>
    <script src="./个人信息修改_files/ace.min.js.下载"></script>



    <script type="text/javascript" src="./个人信息修改_files/jquery.cookie.js.下载"></script>

    <!-- jqgrid -->

    <!-- jqgrid -->

    <!-- commoncss -->
    <link rel="stylesheet" href="./个人信息修改_files/commoncss.css" type="text/css">
    <!-- commoncss -->

    <!-- alert -->
    <script type="text/javascript" src="./个人信息修改_files/jquery-ui.min.js.下载"></script>

    <script type="text/javascript" src="./个人信息修改_files/pagination.js.下载"></script>
    <script type="text/javascript" src="./个人信息修改_files/urpalert.js.下载"></script>
    <script type="text/javascript" src="./个人信息修改_files/layer.js.下载"></script>
    <link rel="stylesheet" href="./个人信息修改_files/layer.css" id="layui_layer_skinlayercss" style="">

    <script src="./个人信息修改_files/bootstrap.min.js.下载"></script>
    <!-- alert -->

    <!-- light bootstrap 两个图表-->

    <!-- light bootstrap 两个图表-->

    <!-- urp-ajax -->
    <script type="text/javascript" src="./个人信息修改_files/urpajax.js.下载"></script>
    <!-- urp-ajax -->
    <script type="text/javascript">
        $(function () {

            if (false) {
                var showResetpass = $.cookie('showResetpass');
                if (true) {
                    window.location.href = "/forcereset";
                } else {
                    if (showResetpass == null) {
                        $.cookie('showResetpass', "0");
                        var bar = $.cookie('selectionBar');
                        $("#view-table .modal-dialog").css("width", "60%");
                        $('#view-table').modal({
                            remote: "/template/forcereset?modal=1",
                            backdrop: "static",
                            keyboard: false
                        }).on("hidden.bs.modal", function () {
                            $("#view-table .modal-dialog").css("width", "60%");
                            $("#view-table .modal-content").html('<div class="center">\
				                <img src="/img/icon/pageloading.gif" style="width:28px;height:28px;">\
				            </div>');
                            $(this).removeData("bs.modal");
                        });
                    }
                }
            }

            //websocket方法
            //websocket方法
            /*var socket = new websocket($('#userId').val());
            layui.use('layim', function (layim) {
                //基础配置
                layim.config({
                    init: {
                        url: '/main/queryUserList' //接口地址（返回的数据格式见下文）
                        , type: 'post' //默认get，一般可不填
                        , data: {
                            //code: websocket.code
                        }//额外参数
                    } //获取主面板列表信息，下文会做进一步介绍
	
                    //获取群员接口（返回的数据格式见下文）
                    /!* , members: {
                        url: '/main/queryMembers' //接口地址（返回的数据格式见下文）
                        , type: 'get' //默认get，一般可不填
                        , data: {
                            //code: websocket.code
                        } //额外参数
                    },
                    min: true, *!/
                });
	
                layim.on('ready', function (options) {
                    //console.info(options);
                    $.ajax({
                        url: "/main/doSendInfo",
                        type: "post",
                        data: null,
                        dataType: "json",
                        success: function (d) {
                        },
                        error: function () {
                        }
                    });
                });
	
                socket.init({
                    onopen: function (msg) {
                        console.log("连接成功");
                    },
                    onmessage: function (res) {
                        console.log("接收到消息");
                        //res = JSON.parse(res);
                        if (res.type === 'TYPE_TEXT_MESSAGE') {
                            layim.getMessage(res.msg); //res.data即你发送消息传递的数据（阅读：监听发送的消息）
                        } else if (res.type == 'addList') {
                            $.each(res.list, function (i, v) {
                                layim.addList(v); //如果是在iframe页，如LayIM设定的add面板，则为 parent.layui.layim.addList(data);
                            });
                        }
                    }
                });
	
                //监听发送消息
                layim.on('sendMessage', function (data) {
                    console.log(data);
                    var msg = JSON.stringify(data);
	
                    socket.send(msg);
	
                });
	
                //监听在线状态的切换事件
                layim.on('online', function (data) {
                    console.log(data);
                });
	
                //layim建立就绪
                layim.on('ready', function (res) {
                    closeLayIM(); 
                });
	
                //监听查看群员
                layim.on('members', function (data) {
                    console.log(data);
                });
	
                //监听聊天窗口的切换，每次窗口打开或切换，即更新对方的状态（是否在线）
                layim.on('chatChange', function (res) {
                    var type = res.data.type;
                    if (type === 'friend') {
                        //判断好友是否离线
                        if (layui.jquery("#layim-friend" + res.data.id).hasClass('layim-list-gray'))
                            layim.setChatStatus('<span style="color:#FF5722;">[离线]</span>'); //模拟标注好友在线状态
                        else
                            layim.setChatStatus('<span style="color:#FF5722;"></span>');
                    } else if (type === 'group') {
                    }
                });
            });*/
        });
    </script>
    <style type="text/css">
        /* .layui-layim-close {
            display: none;
        }
*/
    </style>


    <style>
        body {
            background: white;
            margin: 0;
        }

        .title-line {
            border-bottom: 1px solid #dce8f1;
            margin-bottom: 20px;
        }

        .name-title {
            margin: 20px auto;
            text-align: center;
        }

        .pic-1,
        .pic-2,
        .pic-3 {
            width: 24px;
            height: 24px;
            display: inline-block;
        }

        .pic-1 {
            background: url(/assets/images/identity.png);
        }

        .pic-2 {
            background: url(/assets/images/recruit.png);
        }

        .pic-3 {
            background: url(/assets/images/school.png);
        }

        .table-pad {
            margin: 20px auto;
        }

        .btn-h30 {
            height: 30px;
        }

        select,
        input {
            vertical-align: middle;
        }

        .value_element {
            width: 150px;
        }

        .editableform .form-control {
            width: 150px !important;
        }

        .div_dis_hide {
            width: 240px;
        }

        .hasDatepicker {
            width: 116px;
            height: 30px;
        }

        .style_margin {
            margin: 0 3px;
        }

        .button_margin {
            margin: 0 5px;
        }

        .style_margin_calendar {
            margin: 0 7px;
        }

        .profile-info-value>span+span:before {
            display: inline;
            content: "";
            margin-left: 1px;
            margin-right: 3px;
            color: #666;
            border-bottom: 1px solid #FFF;
        }

        select.select+div.chosen-container,
        select.select+div.chosen-container a.chosen-single {
            height: 30px !important;
        }
    </style>


    <script src="./个人信息修改_files/moment.min.js.下载"></script>
    <script src="./个人信息修改_files/fullcalendar.min.js.下载"></script>
    <script src="./个人信息修改_files/moment.min.js.下载"></script>

    <script src="./个人信息修改_files/bootbox.min.js.下载"></script>

    <link rel="stylesheet" href="./个人信息修改_files/bootstrap-editable.css">
    <script src="./个人信息修改_files/bootstrap-editable.min.js.下载"></script>
    <script src="./个人信息修改_files/ace-editable.min.js.下载"></script>
    <script src="./个人信息修改_files/ace-elements.min.js.下载"></script>
    <script src="./个人信息修改_files/select2.min.js.下载"></script>

    <script type="text/javascript">

        //移除样式
        $("link[href='/css/newjw2014/style.css']").remove();

        function changePassword(url) {
            $('#view-table').modal({
                remote: url
            }).on("hidden.bs.modal", function () {
                $(this).removeData("bs.modal");
            }).css({
                width: 'auto'
            });
            $(".modal-content").css("height", "");
        }
        //元素长度判断
        function strlen(str) {
            var len;
            var i;
            len = 0;
            for (i = 0; i < str.length; i++) {
                if (str.charCodeAt(i) > 255) {
                    len += 2;
                } else {
                    len++;
                }
            }
            return len;
        }

        //手机校验
        function validatelxdh() {
            var brlxdh = frm.brlxdh.value;
            var varlen = strlen(brlxdh);
            //var isMob = /^((\+?86))?(1[3|4|5|6|7|8|9][0123456789][0-9]{8})$/;
            var isMob = /^1[3456789]\d{9}$/;
            if (varlen == 0) {
                urp.alert("请输入你的手机号码！");
                document.getElementById("brlxdh").focus();
                return false;
            }
            if (!isMob.test(brlxdh)) {
                urp.alert("手机号码格式不正确！");
                document.getElementById("brlxdh").focus();
                return false;
            }
            if (varlen > 11) {
                urp.alert("手机号码的长度必须为11位！");
                document.getElementById("brlxdh").focus();
                return false;
            }
            return true;
        }

        //电话onblur="validatedh()"
        function validatedh() {
            var dh = frm.dh.value;
            var varlen = strlen(dh);
            var isMob = /^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/;
            if (varlen == 0) {
                urp.alert("请输入你的宿舍电话号码！");
                document.getElementById("dh").focus();
                return false;
            }
            if (!isMob.test(dh)) {
                urp.alert("宿舍电话号码格式不正确！");
                document.getElementById("dh").focus();
                return false;
            }
            return true;
        }
        //邮箱地址onblur="validateemail()"
        function validateemail() {
            var email = frm.email.value;
            var varlen = strlen(email);
            var regEmail = /^([a-z0-9_\.-]+)@([\da-z\.-]+)\.(.[a-z\.]{2,6})$/;
            if (varlen == 0) {
                urp.alert("邮箱地址不允许为空请输入你的地址！");
                document.getElementById("email").focus();
                return false;
            }
            if (!regEmail.test(email)) {
                urp.alert("Email格式不正确！");
                document.getElementById("email").focus();
                return false;
            }
            if (varlen > 200) {
                urp.alert("你的邮箱长度必须小于200位！");
                document.getElementById("email").focus();
                return false;
            }
            return true;
        }
        //邮箱地址onblur="validateemail()"
        function validategrzy() {
            var grzy = frm.grzy.value;
            var varlen = strlen(grzy);
            //            if (varlen == 0) {
            //                urp.alert("个人主页的内容不允许为空！");
            //                //document.getElementById("grzy").focus();
            //                return false;
            //            }
            if (varlen > 200) {
                urp.alert("你个人主页的内容长度不允许大于200位！");
                //document.getElementById("grzy").focus();
                return false;
            }
            return true;
        }

        function validategrjj() {
            var grjj = frm.grjj.value;
            var varlen = strlen(grjj);
            //            if (varlen == 0) {
            //                urp.alert("个人简介的内容不允许为空！");
            //                //document.getElementById("grjj").focus();
            //                return false;
            //            }
            if (varlen > 200) {
                urp.alert("你个人简介内容长度不允许大于200位！");
                document.getElementById("grjj").focus();
                return false;
            }
            return true;
        }
        //提交
        function doSave() {
            if (validatelxdh() && validatedh() && validateemail() && validategrzy() && validategrjj()) {
                var frm = document.getElementById("frm1");
                pageConditions = $(frm).serialize();
                $.ajax({
                    url: "/student/rollManagement/personalInfoUpdate/update",
                    cache: false,
                    type: "post",
                    data: pageConditions,
                    beforeSend: function () {
                        $("#loading-btn").attr("data-loading-text", "Loading...");
                        $("#loading-btn").button('loading');
                    },
                    complete: function () {
                        $("#loading-btn").removeAttr("data-loading-text");
                        $("#loading-btn").button('reset');
                    },
                    success: function (d) {
                        if (d !== "success") {
                            window.location.href = d;
                        } else {
                            urp.alert("保存成功！");
                            window.location.href = "/student/rollManagement/personalInfoUpdate/index?tips=update";
                        }
                    },
                    error: function (xhr) {
                        urp.alert("错误代码[" + xhr.readyState + "-" + xhr.status + "]:获取数据失败！");
                    }
                });


            }


            /*if ($(".blue.smaller").length == 0) {
             var frm = document.getElementById("frm2");
             frm.action = "/student/rollManagement/personalInfoUpdate/updateXjxx";
             frm.submit();
             }*/
            return false;
        }

        // 重置条件
        function resettj() {
            var frm = document.getElementById("frm1");
            if (document.frm.dh != null && document.frm.dh != undefined) {
                document.frm.dh.value = "";
            }
            if (document.frm.txdz != null && document.frm.txdz != undefined) {
                document.frm.txdz.value = "";
            }

            if (document.frm.email != null && document.frm.email != undefined) {
                document.frm.email.value = "";
            }

            if (document.frm.grjj != null && document.frm.grjj != undefined) {
                document.frm.grjj.value = "";
            }

            if (document.frm.grzy != null && document.frm.grzy != undefined) {
                document.frm.grzy.value = "";
            }
        }


        $(function () {
            //加载select样式
            $('.select').chosen({ allow_single_deselect: true });
            //修改select样式
            $(window).off('resize.chosen').on('resize.chosen', function () {
                $('.select').each(function () {
                    var $this = $(this);
                    $this.next().css({ 'width': 150 });
                });
            }).trigger('resize.chosen');
            //设置button按钮的高度
            $(".fa-check,.fa-times").parent().not(".btn-success").css("height", "30px");
            $(".fa-check,.fa-times").parent().not(".btn-success").css("width", "30px");
            //阻止冒泡
            $("span[id^=show_]").on("click", function (event) {
                event.stopPropagation();
            });
        });
        //根据院系号查询专业
        function toSelectSubject() {
            var xsh = document.getElementById("select_xsh").value;
            $.ajax({
                url: "/student/rollManagement/personalInfoUpdate/searchSubject",
                cache: false,
                type: "post",
                data: "xsh=" + xsh,
                dataType: "json",
                success: function (data) {
                    /*alert(JSON.stringify(data));*/
                    subjectOption(data);
                },
                error: function () {
                }
            });

        }

        //根据专业号查询专业方向和班级
        function toSelectDirection() {
            var subject = document.getElementById("select_zyh").value;
            var xsh = document.getElementById("select_xsh").value;
            $.ajax({
                url: "/student/rollManagement/personalInfoUpdate/toSelectDirection",
                cache: false,
                type: "post",
                data: "subject=" + subject + "&xsh=" + xsh,
                dataType: "json",
                success: function (data) {
                    directionOption(data["directionList"]);
                    classOption(data["bjList"]);
                },
                error: function () {
                }
            });

        }

        /*根据专业方向去获取班级*/
        function toSelectProfessionalDirection() {
            var xsh = document.getElementById("select_xsh").value;
            var subject = document.getElementById("select_zyh").value;
            var zyfxh = document.getElementById("select_zyfxh").value;
            $.ajax({
                url: "/student/rollManagement/personalInfoUpdate/toSelectProfessionalDirection",
                cache: false,
                type: "post",
                data: "subject=" + subject + "&xsh=" + xsh + "&zyfxh=" + zyfxh,
                dataType: "json",
                success: function (data) {
                    classOption(data["bjList"]);
                },
                error: function () {
                }
            });
        }


        //循环写出option标签及值
        function subjectOption(data) {
            var sOption = "<option value = ''></option>";
            $.each(data, function (i, v) {
                sOption += "<option value = '" + v.subjectCode + "'>" + v.subjectName + "</option>";
            });
            $("#select_zyh").html(sOption);
        }

        function directionOption(data) {
            var dOption = "<option value = ''></option>";
            $.each(data, function (i, v) {
                dOption += "<option value = '" + v.id.zyfxh + "'>" + v.zyfxm + "</option>";
            });
            $("#select_zyfxh").html(dOption);
        }

        function classOption(data) {
            var cOption = "<option value = ''></option>";
            $.each(data, function (i, v) {
                cOption += "<option value = '" + v.classCode + "'>" + v.className + "</option>";
            });
            $("#select_bjh").html(cOption);
        }


        //把span标签中的值赋给input标签
        function payForHidden(obj) {
            //            console.log(11);
            // var ss = $(obj).parent().siblings(".editable-input").find("input").val();
            // $(obj).parents(".profile-info-value").find("input[type=hidden]").val(ss);
        }

        //设置点击文字触发修改输入
        jQuery(function ($) {
            //editables on first profile page
            $.fn.editable.defaults.mode = 'inline';
            $.fn.editableform.loading = "<div class='editableform-loading'><i class='ace-icon fa fa-spinner fa-spin fa-2x light-blue'></i></div>";
            $.fn.editableform.buttons = '<button type="submit" class="btn btn-info editable-submit" style="width:30px;" onclick="payForHidden(this);"><i class="ace-icon fa fa-check"></i></button>' +
                '<button type="button" class="btn editable-cancel" style="width:30px;"><i class="ace-icon fa fa-times"></i></button>';

            //text editable
            $.each($(".input-animation"), function (i, v) {
                $(this).editable({
                    type: 'text',
                    width: 150,
                    name: $(this).attr("id"),
                    validate: function (value) {
                        // maxlength="30"
                        if ($(this).attr("maxlength") != "undefined") {
                            if (getStrLeng($.trim(value)) > $(this).attr("maxlength")) {
                                return '最大长度不能超过:' + $(this).attr("maxlength");
                            }
                        }
                        if ($(this).attr("idcard") != "undefined") {
                            if ($(this).attr("idcard") == "idcard" && "1" == "1") {
                                var value = $.trim(value);
                                var city = { 11: "北京", 12: "天津", 13: "河北", 14: "山西", 15: "内蒙古", 21: "辽宁", 22: "吉林", 23: "黑龙江 ", 31: "上海", 32: "江苏", 33: "浙江", 34: "安徽", 35: "福建", 36: "江西", 37: "山东", 41: "河南", 42: "湖北 ", 43: "湖南", 44: "广东", 45: "广西", 46: "海南", 50: "重庆", 51: "四川", 52: "贵州", 53: "云南", 54: "西藏 ", 61: "陕西", 62: "甘肃", 63: "青海", 64: "宁夏", 65: "新疆", 71: "台湾", 81: "香港", 82: "澳门", 91: "国外 " };
                                var tip = "";
                                var pass = true;

                                if (!value || !/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(value)) {
                                    tip = "身份证号格式错误！";
                                    $(element).data('error-msg', tip);
                                    return tip;
                                } else if (!city[value.substr(0, 2)]) {
                                    tip = "地址编码错误！";
                                    $(element).data('error-msg', tip);
                                    return tip;
                                } else {
                                    //18位身份证需要验证最后一位校验位
                                    if (value.length == 18) {
                                        value = value.split('');
                                        //∑(ai×Wi)(mod 11)
                                        //加权因子
                                        var factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];
                                        //校验位
                                        var parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2];
                                        var sum = 0;
                                        var ai = 0;
                                        var wi = 0;
                                        for (var i = 0; i < 17; i++) {
                                            ai = value[i];
                                            wi = factor[i];
                                            sum += ai * wi;
                                        }
                                        var last = parity[sum % 11];
                                        if (parity[sum % 11] != value[17]) {
                                            tip = "校验位错误！";
                                            $(element).data('error-msg', tip);
                                            return tip;
                                        }
                                    }
                                }
                            }
                        }
                        $(this).parents(".profile-info-value").find("input[type=hidden]").val($.trim(value));
                    }
                });
            });
        });


        //特殊字符转义
        function htmlEncodeByRegExp(str) {
            var s = "";
            if (str.length == 0) return "";
            s = str.replace(/&/g, "&amp;");
            s = s.replace(/</g, "&lt;");
            s = s.replace(/>/g, "&gt;");
            //            s = s.replace(/ /g, "&nbsp;");
            s = s.replace(/\'/g, "&#39;");
            s = s.replace(/\"/g, "&quot;");
            return s;
        }

        function htmlDecodeByRegExp(str) {
            var s = "";
            if (str.length == 0) return "";
            s = str.replace(/&amp;/g, "&");
            s = s.replace(/&lt;/g, "<");
            s = s.replace(/&gt;/g, ">");
            s = s.replace(/&nbsp;/g, " ");
            s = s.replace(/&#39;/g, "\'");
            s = s.replace(/&quot;/g, "\"");
            return s;
        }


        // GBK字符集实际长度计算
        function getStrLeng(str) {
            str = htmlEncodeByRegExp(str);
            str = htmlEncodeByRegExp(str);
            var realLength = 0;
            var len = str.length;
            var charCode = -1;
            for (var i = 0; i < len; i++) {
                charCode = str.charCodeAt(i);
                if (charCode >= 0 && charCode <= 128) {
                    realLength += 1;
                } else {
                    // 如果是中文则长度加2
                    realLength += 2;
                }
            }
            return realLength;
        }

        //下拉框值修改
        function payForHiddenSelect(name, isSave) {
            if (isSave == "s") {
                document.getElementById("show_" + name).style.display = "none";//隐藏
                document.getElementById("div_" + name).style.display = "inline-block";//隐藏
                /* $("#show_"+name).hide();
                 $("#div_"+name).show(); */
                $("#div_" + name + "select").focus();
            } else {
                if (isSave == "y") {
                    var selectName = $("#select_" + name + " option:selected").text();
                    $("#show_" + name).text(selectName);
                }
                $("#show_" + name).show();
                $("#div_" + name).hide();
            }
        }
        //日历控件值修改
        function payForHiddenInput(inputName, isInputSave) {
            if (isInputSave == "s") {
                $("#show_input_" + inputName).hide();
                $("#div_input_" + inputName).show();
            } else {
                if (isInputSave == "y") {
                    var inName = $("input[name='" + inputName + "']").val();
                    var rep = /-/g;
                    var repDate = inName.replace(rep, "");

                    $("#show_input_" + inputName).text(repDate);
                    $("#input_calendar_" + inputName).val(repDate);
                }
                $("#show_input_" + inputName).show();
                $("#div_input_" + inputName).hide();
            }
        }
    </script>




</head>

<body class="no-skin">

    <!-- 查看详情专用 -->
    <div class="modal fade" id="view-table" tabindex="1" role="dialog" aria-labelledby="myModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" style="width:60%;">
            <div class="modal-content">
                <div class="center">
                    <span class="view-pre-loading"></span>
                </div>
            </div>
        </div>
    </div>
    <!-- 查看详情专用 -->

    <div class="modal fade" id="myModal" tabindex="1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×
                    </button>
                    <h4 class="modal-title" id="myModalLabel">
                        调课后的周次
                    </h4>
                </div>
                <div class="modal-body">
                    开始周次:<input type="text" name="kszc" id="kszc" readonly="readonly"><br>
                    结束周次:<input type="text" name="jszc" id="jszc"><br>
                    选择周次模式:<input type="radio" name="zcms" value="1" style="width:20px"> 全周 &nbsp;&nbsp;
                    <input type="radio" name="zcms" value="2" style="width:20px"> 单周&nbsp;&nbsp;
                    <input type="radio" name="zcms" value="3" style="width:20px"> 双周
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default">
                        保存
                    </button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal">
                        关闭
                    </button>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <div id="navbar" class="navbar navbar-default  navbar-fixed-top">
        <script type="text/javascript">
            try {
                ace.settings.check('navbar', 'fixed')
            } catch (e) {
            }
        </script>

        <div class="navbar-container" id="navbar-container">
            <button type="button" class="navbar-toggle menu-toggler pull-left" id="menu-toggler">
                <span class="sr-only">Toggle sidebar</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <div class="navbar-header pull-left">
                <a href="http://jwstudent.lnu.edu.cn/" class="navbar-brand" id="0" onclick="toSelect(this);">
                    <small style="font-weight:700;font-family:微软雅黑">
                        <!--
                    <i class="fa fa-leaf"></i>
                    Ace Admin
                     -->

                        URP高校教学管理与服务平台

                    </small>
                </a>
            </div>

            <div class="navbar-buttons navbar-header pull-right" role="navigation">
                <ul class="nav ace-nav">
                    <li class="green" style="text-align: center">
                        <div class="intellegenceUDiv" style="z-index:1" id="intellegenceUDiv">
                            <div style="height:100%; width:32px; display:inline-block;
									 position:absolute;line-height:100%;left:-32px;
									 background-color:#777;cursor:pointer; " id="clickdiv" onclick="changeInfo()">
                                <i class="fa fa-search white" style="margin-top: 50%;" id="clicki"></i>
                            </div>
                        </div>
                        <div id="form-search" class="nav-search"
                            style="width: 0px; right: -20px; margin-top: 8px; margin-right: 20px; background-color: rgba(0, 0, 0, 0); z-index: -1;">
                            <form class="form-search">
                                <span class="input-icon">
                                    <input type="text" placeholder="查找功能..." class="nav-search-input" id="search-input"
                                        autocomplete="off">
                                    <i class="ace-icon fa fa-search blue"></i>
                                </span>
                            </form>
                        </div>
                    </li>
                    <!-- 通知   -->




                    <!-- 展示当前的学期季度信息 -->
                    <li class="light-red" style="text-align: center">
                        <a data-toggle="dropdown" class="dropdown-toggle"
                            href="http://jwstudent.lnu.edu.cn/student/rollManagement/personalInfoUpdate/index#"
                            onclick="SchoolCalendar()">
                            <i class="ace-icon fa fa-calendar"></i>


                            当前处于假期时间
                        </a>
                    </li>





                    <li class="light-blue" style="text-align: center">
                        <a data-toggle="dropdown"
                            href="http://jwstudent.lnu.edu.cn/student/rollManagement/personalInfoUpdate/index#"
                            class="dropdown-toggle">
                            <img class="nav-user-photo" src="./个人信息修改_files/man.png"
                                onerror="this.src=&#39;/assets/avatars/user.jpg&#39;" alt="Jason&#39;s Photo">
                            <span class="user-info">
                                <small>欢迎您，</small>



                                陈宇飞
                            </span>
                            <i class="ace-icon fa fa-caret-down"></i>
                        </a>
                        <input type="hidden" id="userId" value="


191492216
">
                        <ul
                            class="user-menu dropdown-menu-right dropdown-menu dropdown-yellow dropdown-caret dropdown-close">
                            <li>
                                <a href="http://jwstudent.lnu.edu.cn/" title="主页" onclick="toSelect(this);">
                                    <i class="ace-icon fa fa-home"></i>首页
                                </a>
                            </li>

                            <li>
                                <a
                                    href="javascript:changePassword(&#39;/student/rollManagement/personalInfoUpdate/updatePassword&#39;)">
                                    <i class="ace-icon fa fa-user"></i>
                                    修改密码
                                </a>
                            </li>

                            <li class="divider"></li>

                            <li>
                                <a id="logout" href="http://jwstudent.lnu.edu.cn/logout" title="退出系统">
                                    <i class="ace-icon fa fa-power-off"></i>
                                    注销
                                </a>
                            </li>
                        </ul>
                    </li>

                    <!-- 主页 -->
                    <!-- <li class="light-blue" style="text-align: center" >
                     <a href="/" title="主页" id='0' onclick="toSelect(this);">
                        <i class="ace-icon fa fa-home"></i>
                    </a>
                </li>
                <li  class="light-blue" style="text-align: center" >
                    <a href="/logout" title="退出系统" onclick="removeCookie();">
                        <i class="ace-icon fa fa-power-off"></i>
                    </a>
                </li>
-->
                </ul>
            </div>
        </div>
        <!-- /.navbar-container -->
    </div>

    <div class="main-container" id="main-container">
        <script type="text/javascript">
            function changeInfo() {
                $("#form-search").animate({ width: '152px', right: '22px' });
            }
            $(document).click(function (e) {
                var id = $(e.target).attr("id");
                if (id == "clickdiv" || id == "clicki" || id == "search-input") {

                } else {
                    $("#form-search").animate({ width: '0px', right: '-20px' });
                }
            })
            try {
                ace.settings.check('main-container', 'fixed')
            } catch (e) {
            }

            function SchoolCalendar() {
                //	var ifheight = $(window).height()-$(".modal-content").offset().top ;
                $(".modal-content").html("<iframe width='100%' style='width:100%; min-height:600px; height:100%; overflow: hidden;' src='/indexCalendar' ></iframe>");
                //$(".modal-content iframe").css("max-height",ifheight);
                $("#view-table").modal().show().on("hidden.bs.modal", function () {
                    $(this).removeData("bs.modal");
                });
            }

            var sUserAgent = navigator.userAgent.toLowerCase();
            var bIsIpad = sUserAgent.match(/ipad/i) == "ipad";
            var bIsIphoneOs = sUserAgent.match(/iphone os/i) == "iphone os";
            var bIsMidp = sUserAgent.match(/midp/i) == "midp";
            var bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == "rv:1.2.3.4";
            var bIsUc = sUserAgent.match(/ucweb/i) == "ucweb";
            var bIsAndroid = sUserAgent.match(/android/i) == "android";
            var bIsCE = sUserAgent.match(/windows ce/i) == "windows ce";
            var bIsWM = sUserAgent.match(/windows mobile/i) == "windows mobile";

            var isMenuToDeal = true;

            function rootMenuClick(obj) {
                if (isMenuToDeal && !$(obj).hasClass("open")) {
                    $.each($(obj).find(".hsub"), function () {
                        if ($(this).hasClass("open")) {
                            isMenuToDeal = false;
                        }
                    });
                } else {
                    isMenuToDeal = false;
                }

                if (isMenuToDeal) {
                    var firobj = $(obj).children("ul").children("li").first();
                    firobj.addClass("open");
                    $(firobj).children("ul").css("display", "block");
                } else {
                    isMenuToDeal = true;
                }
            }

            function stopHere(e) {
                isMenuToDeal = false;
            }

            /*菜单上的搜索框*/
            $(document).ready(function () {
                var obj_lis = $("#menus").find("li > ul > li > ul > li");
                var obj_menus = new Array();
                for (i = 0; i < obj_lis.length; i++) {
                    obj_menus[i] = $.trim($(obj_lis[i]).find("a:first").text());
                }
                try {
                    $("#search-input").bs_typeahead({
                        source: obj_menus,
                        updater: function (a) {
                            for (i = 0; i < obj_lis.length; i++) {
                                if (a == $.trim($(obj_lis[i]).find("a:first").text())) {
                                    $.cookie('selectionBar', obj_lis[i].id, {
                                        path: '/'
                                    });
                                    window.location.href = $(obj_lis[i]).find("a:first").attr("href");
                                    break;
                                }
                            }
                            return a;
                        }
                    })
                } catch (a) {
                }
            });

            function changePassword(url) {
                ///student/rollManagement/personalInfoUpdate/updatePassword
                $('#view-table').modal({
                    remote: url
                }).on("hidden.bs.modal", function () {
                    /*$("div").remove(".widget-box");*/
                    $(this).removeData("bs.modal");
                }).css({
                    width: 'auto'
                });
            }

        </script>

        <style type="text/css">
            .sidebar>.nav-search {
                position: static;
                background-color: #FAFAFA;
                border-bottom: 1px solid #DDD;
                text-align: center;
                height: 35px;
                padding-top: 0px;
            }

            .sidebar>.nav-search .nav-search-input {
                width: 162px !important;
                border-radius: 5px !important;
                max-width: 162px !important;
                opacity: 1 !important;
                filter: alpha(opacity=100) !important;
            }

            #breadcrumbs li {
                cursor: pointer;
            }
        </style>
        <div id="sidebar" class="sidebar responsive sidebar-fixed">
            <script type="text/javascript">
                try {
                    ace.settings.check('sidebar', 'fixed')
                } catch (e) {
                }
            </script>

            <div style="position: relative;">
                <div class="nav-wrap">
                    <div style="position: relative; top: 0px; transition-property: top; transition-duration: 0.2s;">
                        <ul class="nav nav-list" id="menus">

                            <li class="active open" id="1181690" onclick="rootMenuClick(this);">
                                <a href="http://jwstudent.lnu.edu.cn/student/rollManagement/personalInfoUpdate/index#"
                                    class="dropdown-toggle">
                                    <i class="menu-icon fa fa-tachometer"></i>
                                    <span class="menu-text"> 个人管理 </span>
                                    <b class="arrow fa fa-angle-down"></b>
                                </a>

                                <b class="arrow"></b>

                                <ul class="submenu nav-show" onclick="stopHere();" style="display: block;">

                                    <li class="active open" id="1188620">
                                        <a href="http://jwstudent.lnu.edu.cn/student/rollManagement/personalInfoUpdate/index#"
                                            class="dropdown-toggle">
                                            <i class="menu-icon fa fa-caret-right"></i>
                                            学籍管理
                                            <b class="arrow fa fa-angle-down"></b>
                                        </a>

                                        <b class="arrow"></b>


                                        <ul class="submenu nav-show" style="display: block;">

                                            <li class="" id="1183421" onclick="toSelect(this);">
                                                <a
                                                    href="http://jwstudent.lnu.edu.cn/student/rollManagement/rollInfo/index">&nbsp;&nbsp;
                                                    学生学籍信息
                                                </a>

                                                <b class="arrow"></b>
                                            </li>

                                            <li class="active" id="1183422" onclick="toSelect(this);">
                                                <a
                                                    href="http://jwstudent.lnu.edu.cn/student/rollManagement/personalInfoUpdate/index"><i
                                                        class="menu-icon fa fa-caret-right"></i><i
                                                        class="menu-icon fa fa-caret-right"></i>&nbsp;&nbsp;
                                                    个人信息修改
                                                </a>

                                                <b class="arrow"></b>
                                            </li>



                                        </ul>


                                    </li>





                                </ul>

                            </li>

                            <li class="hsub" id="82020" onclick="rootMenuClick(this);">
                                <a href="http://jwstudent.lnu.edu.cn/student/rollManagement/personalInfoUpdate/index#"
                                    class="dropdown-toggle">
                                    <i class="menu-icon fa fa-desktop"></i>
                                    <span class="menu-text"> 选课管理 </span>
                                    <b class="arrow fa fa-angle-down"></b>
                                </a>

                                <b class="arrow"></b>

                                <ul class="submenu" onclick="stopHere();">

                                    <li class="hsub" id="1293220">
                                        <a href="http://jwstudent.lnu.edu.cn/student/rollManagement/personalInfoUpdate/index#"
                                            class="dropdown-toggle">
                                            <i class="menu-icon fa fa-caret-right"></i>
                                            选课管理
                                            <b class="arrow fa fa-angle-down"></b>
                                        </a>

                                        <b class="arrow"></b>


                                        <ul class="submenu">

                                            <li class="" id="1293217" onclick="toSelect(this);">
                                                <a
                                                    href="http://jwstudent.lnu.edu.cn/student/courseSelect/courseSelectNotice/index">&nbsp;&nbsp;
                                                    选课公告
                                                </a>

                                                <b class="arrow"></b>
                                            </li>



                                        </ul>


                                    </li>



                                </ul>

                            </li>

                            <li class="hsub" id="1377620" onclick="rootMenuClick(this);">
                                <a href="http://jwstudent.lnu.edu.cn/student/rollManagement/personalInfoUpdate/index#"
                                    class="dropdown-toggle">
                                    <i class="menu-icon fa fa-calendar"></i>
                                    <span class="menu-text"> 综合查询 </span>
                                    <b class="arrow fa fa-angle-down"></b>
                                </a>

                                <b class="arrow"></b>

                                <ul class="submenu" onclick="stopHere();">

                                    <li class="hsub" id="1377621">
                                        <a href="http://jwstudent.lnu.edu.cn/student/rollManagement/personalInfoUpdate/index#"
                                            class="dropdown-toggle">
                                            <i class="menu-icon fa fa-caret-right"></i>
                                            成绩查询
                                            <b class="arrow fa fa-angle-down"></b>
                                        </a>

                                        <b class="arrow"></b>


                                        <ul class="submenu">



                                            <li class="" id="1443374" onclick="toSelect(this);">
                                                <a
                                                    href="http://jwstudent.lnu.edu.cn/student/integratedQuery/scoreQuery/unpassedScores/index">&nbsp;&nbsp;
                                                    不及格成绩
                                                </a>

                                                <b class="arrow"></b>
                                            </li>

                                            <li class="" id="1443375" onclick="toSelect(this);">
                                                <a
                                                    href="http://jwstudent.lnu.edu.cn/student/integratedQuery/scoreQuery/thisTermScores/index">&nbsp;&nbsp;
                                                    本学期成绩
                                                </a>

                                                <b class="arrow"></b>
                                            </li>



                                        </ul>


                                    </li>





                                </ul>

                            </li>

                        </ul>
                    </div>
                </div>
                <div class="ace-scroll nav-scroll">
                    <div class="scroll-track" style="display: none;">
                        <div class="scroll-bar" style="top: 0px; transition-property: top; transition-duration: 0.13s;">
                        </div>
                    </div>
                    <div class="scroll-content" style="">
                        <div></div>
                    </div>
                </div>
            </div>
            <!-- /.nav-list -->

            <div class="sidebar-toggle sidebar-collapse" id="sidebar-collapse" style="z-index: 1;">
                <i class="ace-icon fa fa-angle-double-left" data-icon1="ace-icon fa fa-angle-double-left"
                    data-icon2="ace-icon fa fa-angle-double-right"></i>
            </div>

            <script type="text/javascript">
                try {
                    ace.settings.check('sidebar', 'collapsed')
                } catch (e) {
                }
            </script>
        </div>

        <div class="main-content">
            <div class="breadcrumbs" id="breadcrumbs">
                <script type="text/javascript">
                    try {
                        ace.settings.check('breadcrumbs', 'fixed')
                    } catch (e) {
                    }
                </script>

                <ul class="breadcrumb">
                    <li onclick="javascript:window.location.href=&#39;/&#39;" style="cursor:pointer;">
                        <i class="ace-icon fa fa-home home-icon"></i>
                        首页
                    </li>
                    <li class="active" onclick="ckickTopMenu(this);return false;" id="firmenu" menuid="1181690">个人管理
                    </li>
                    <li class="active" onclick="ckickTopMenu(this);return false;" id="secmenu" menuid="1188620">学籍管理
                    </li>
                    <li class="active" onclick="ckickTopMenu(this);return false;" id="lastmenu" menuid="1183422">个人信息修改
                    </li>
                </ul>
                <!-- /.breadcrumb -->
            </div>

            <div class="page-content" id="page-content-template">


                <div class="row margin-no self-margin">



                    <div class="col-xs-4" style="padding-right: 0px;">


                        <h4 class="header smaller lighter grey" style="color: #2679b5;">
                            <i class="fa fa-user"></i> 学生个人信息修改
                        </h4>
                        <form id="frm1" name="frm"
                            action="http://jwstudent.lnu.edu.cn/student/rollManagement/personalInfoUpdate/index#"
                            method="POST">
                            <input type="hidden" name="tokenValue" value="1c58072e797e47203216bb0084d12d5e">

                            <div class="row">
                                <div class="col-xs-12">
                                    <div class="self profile-user-info profile-user-info-striped" style="width: 100%;">
                                        <div class="profile-info-row">
                                            <div class="profile-info-name text-nowrap">姓名</div>
                                            <div class="profile-info-value">

                                                <span>陈宇飞</span>
                                            </div>
                                        </div>
                                        <div class="profile-info-row">
                                            <div class="profile-info-name text-nowrap">学号</div>
                                            <div class="profile-info-value">
                                                <span>191492216</span>
                                            </div>
                                        </div>
                                        <div class="profile-info-row">
                                            <div class="profile-info-name text-nowrap">密码</div>
                                            <div class="profile-info-value">
                                                <span> <a style="color: #428bca;text-decoration: none;"
                                                        href="javascript:changePassword(&#39;/student/rollManagement/personalInfoUpdate/updatePassword&#39;)">更改密码</a>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="profile-info-row">
                                            <div class="profile-info-name text-nowrap">手机</div>
                                            <div class="profile-info-value">
                                                <span> <input id="brlxdh" name="brlxdh" tag="手机|0|s|100"
                                                        class="form-control value_element" type="text"
                                                        value="18295026007"> </span>
                                            </div>
                                        </div>
                                        <div class="profile-info-row">
                                            <div class="profile-info-name text-nowrap">宿舍电话</div>
                                            <div class="profile-info-value">
                                                <span> <input id="dh" name="dh" tag="宿舍电话|0|s|40"
                                                        class="form-control value_element" type="text"
                                                        value="18295026007"> </span>
                                            </div>
                                        </div>
                                        <div class="profile-info-row">
                                            <div class="profile-info-name text-nowrap">E-mail</div>
                                            <div class="profile-info-value">
                                                <span> <input id="email" name="email" tag="电子邮件|0|e|100"
                                                        class="form-control value_element" type="text"
                                                        value="1048779286@qq.com"> </span>
                                            </div>
                                        </div>
                                        <div class="profile-info-row">
                                            <div class="profile-info-name text-nowrap">个人主页</div>
                                            <div class="profile-info-value">
                                                <span> <input id="grzy" name="grzy" tag="个人主页|1|s|100"
                                                        class="form-control value_element" type="text" value=""> </span>
                                            </div>
                                        </div>
                                        <div class="profile-info-row">
                                            <div class="profile-info-name text-nowrap">个人简介</div>
                                            <div class="profile-info-value">
                                                <span> <textarea id="grjj" name="grjj" tag="个人简介|1|s|500"
                                                        class="form-control value_element"></textarea> </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="center">
                                        <button id="loading-btn" title="保存" data-loading-text="正在保存..."
                                            class="btn btn-purple btn-xs btn-round search_btn"
                                            onclick="doSave();return false;">
                                            <i class="ace-icon fa fa-floppy-o bigger-120"></i> 保存
                                        </button>
                                        <button title="重置" class="btn btn-xs btn-round search_btn"
                                            onclick="resettj();return false;">
                                            <i class="ace-icon fa fa-undo bigger-120"></i> 重置
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>

                    <div class="col-xs-8">
                        <h4 class="header smaller lighter grey">
                            <img src="./个人信息修改_files/identity.png" style="position:relative;top:-6px;"> 学籍信息
                        </h4>

                        <div id="div-rollInfo" class="row widget-box" style="height:calc(100vh - 162px);overflow:auto;">


                            <div class="alert alert-block alert-success">
                                <button type="button" class="close" data-dismiss="alert"
                                    style="height: 30px; width: 30px;">
                                    <i class="ace-icon fa fa-times"></i>
                                </button>

                                <i class="ace-icon fa fa-info-circle orange"></i>
                                当前不是修改学籍信息时间，请确认时间！！
                            </div>


                        </div>
                    </div>



                </div>


                <script type="text/javascript">
                    $(function () {
                        if ("" == "1" && "" != "update") {
                            tsxx();
                        }
                    });

                    function addslidersModel(id, width) {
                        var modal = '<div id="' + id + '" class="modal right fade" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" tabindex="-1">\
				            <div class="modal-dialog">\
				                <div class="modal-content">\
				                    <div class="center">\
			                            <img src="/img/icon/pageloading.gif" style="width:28px;height:28px;">\
			                        </div>\
				                </div>\
				            </div>\
				        </div>';
                        var modal = $(modal).appendTo('body');
                        $(".modal-dialog").css("width", width);
                        return modal;
                    }

                    function tsxx() {
                        var mod = addslidersModel("add_model", "60%");
                        var time = ("" == "" ? "10" : "");
                        var wHeight = $(window).height();
                        $(".modal-content").html("<div id='tsDiv'><pre class='col-xs-12' style='height:" + (wHeight - 150) + "px'></pre></div>");
                        $(".modal-content").append("<div style='border: 3px solid #6fb3e0; background: #6fb3e0; position: absolute; bottom: 0; width: 100%;' class='center'>\
				<button class='btn btn-round btn-xs no-border' disabled id='tsxxClose' onclick='$(\"#add_model\").modal(\"hide\");'>\
					<i class='fa fa-times'></i> 关闭（" + time + "s）\
				</button>\
				</div>");

                        $(".modal-content").css("top", "30px");
                        $(".modal-content").css("height", wHeight - 120);
                        mod.modal({
                            backdrop: 'static',
                            keyboard: false
                        }).on('hide.bs.modal', function () {
                            $("body").removeClass('modal-open');
                            $("body").css('padding-right', '0px');
                            mod.remove();
                            $('.modal-backdrop').remove();
                            return false;
                        });

                        timer = setInterval(function () {
                            //console.log($("#tsxxClose").html());
                            time--;
                            if (time == 0) {
                                $(mod).find("#tsxxClose").html("<i class='fa fa-times'></i> 关闭");
                                $(mod).find("#tsxxClose").prop("disabled", false);
                                clearInterval(timer);
                            } else {
                                $(mod).find("#tsxxClose").html("<i class='fa fa-times'></i> 关闭（" + time + "s）");
                            }
                        }, 1000);
                    }

                    jQuery(function ($) {

                        $.fn.editable.defaults.mode = 'inline';
                        $.fn.editableform.loading = "<div class='editableform-loading'><i class='ace-icon fa fa-spinner fa-spin fa-2x light-blue'></i></div>";
                        $.fn.editableform.buttons = '<button type="submit" class="btn btn-info editable-submit" onclick="payForHidden(this);"><i class="ace-icon fa fa-check"></i></button>' +
                            '<button type="button" class="btn editable-cancel"><i class="ace-icon fa fa-times"></i></button>';

                        //editables
                        //text editable
                        $('.input').editable({
                            type: 'text',
                            name: 'username'
                        });
                        $('.number').editable({
                            type: 'number',
                            name: 'age',
                            spinner: {
                                min: 16,
                                max: 99,
                                step: 1,
                                on_sides: true,
                                //,nativeUI: true//if true and browser support input[type=number], native browser control will be used
                            }
                        });

                        $('.time').editable({
                            type: 'adate',
                            date: {
                                //datepicker plugin options
                                format: 'yyyy/mm/dd',
                                viewformat: 'yyyy/mm/dd',
                                weekStart: 1

                                //,nativeUI: true//if true and browser support input[type=date], native browser control will be used
                                //,format: 'yyyy-mm-dd',
                                //viewformat: 'yyyy-mm-dd'
                            }
                        });
                        var sex = ["男", "女"];
                        $('.select').editable({
                            type: 'select',
                            value: 'Amsterdam',
                            //onblur:'ignore',
                            source: sex,
                            select2: {
                                'width': 140
                            }
                        });
                        $('#about').editable({
                            mode: 'inline',
                            type: 'wysiwyg',
                            name: 'about',

                            wysiwyg: {
                                //css : {'max-width':'300px'}
                            },
                            success: function (response, newValue) {
                            }
                        });

                    });
                </script>

            </div>
            <!-- /.page-content -->
        </div>
        <!-- /.main-content -->


        <a href="http://jwstudent.lnu.edu.cn/student/rollManagement/personalInfoUpdate/index#" id="btn-scroll-up"
            class="btn-scroll-up btn btn-sm btn-inverse">
            <i class="ace-icon fa fa-angle-double-up icon-only bigger-110"></i>
        </a>
    </div>
    <!-- /.main-container -->

    <!-- inline scripts related to this page -->
    <script type="text/javascript">
        $(document).ready(function () {
            var bar = $.cookie('selectionBar');
            if (bar && bar != 0) {
                if (true) {
                    var barObj = document.getElementById(bar);
                    var pts = $(barObj).parents("li");
                    for (var i = pts.length - 1; i >= 0; i--) {
                        if (!$(pts[i]).hasClass("open")) {
                            $(pts[i]).addClass("open");
                            $(pts[i]).children("ul").addClass("nav-show").attr("style", "display: block;");
                        }
                    }
                    barObj == null ? barObj = document.getElementById(bar) : barObj.className = "active";
                    $(barObj).find("a").prepend("<i class='menu-icon fa fa-caret-right'></i>");
                }

                var lastmenu = $("#" + bar).find("a").first().text();
                var secmenu = $("#" + bar).parent().parent().find("a").first().text();
                var firmenu = $("#" + bar).parent().parent().parent().parent().find("a").first().text();

                $("#lastmenu").html(lastmenu.replace(/(^\s*)|(\s*$)/g, ""));
                $("#lastmenu").attr("menuid", bar);
                $("#secmenu").html(secmenu.replace(/(^\s*)|(\s*$)/g, ""));
                $("#secmenu").attr("menuid", $("#" + bar).parent().parent().attr("id"));
                $("#firmenu").html(firmenu.replace(/(^\s*)|(\s*$)/g, ""));
                $("#firmenu").attr("menuid", $("#" + bar).parent().parent().parent().parent().attr("id"));
            } else {
                $("#lastmenu").remove();
                $("#secmenu").remove();
                $("#firmenu").remove();
            }
        });

        function ckickTopMenu(obj) {
            if ($(obj).attr("menuid")) {
                var menuid = $(obj).attr("menuid");
                if ($("#" + menuid + " a:eq(0)").hasClass("dropdown-toggle")) {
                    if ($("#" + menuid).parents('.nav-list li').size() > 0) {
                        if ($("#" + menuid).parents('.nav-list li:eq(0)').hasClass("open")) {
                            $("#" + menuid + " a").trigger("click");
                        } else {
                            $("#" + menuid).parents('.nav-list li').find("a:eq(0)").trigger("click");
                            if (!$("#" + menuid).hasClass("open")) {
                                $("#" + menuid + " a").trigger("click");
                            }
                        }
                    } else {
                        $("#" + menuid + " a:eq(0)").trigger("click");
                    }
                } else {
                    window.location.href = $("#" + menuid + " a:eq(0)").attr("href");
                }
            }
        }


        function toSelect(obj) {
            $.cookie('selectionBar', obj.id, {
                path: '/'
            });
        }

        function removeCookie() {
            $.cookie('JSESSIONID', null);
        }
        // 			$(function() {
        // 				$('select').chosen({allow_single_deselect:true});
        // 			});

        function addslidersModel(id, width) {
            var modal = '<div id="' + id + '" class="modal right fade" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" tabindex="-1">\
	            <div class="modal-dialog">\
	                <div class="modal-content">\
	                    <div class="center">\
                            <img src="/img/icon/pageloading.gif" style="width:28px;height:28px;">\
                        </div>\
	                </div>\
	            </div>\
	        </div>';
            var modal = $(modal).appendTo('body');
            $(".modal-dialog").css("width", width);
            return modal;
        }
        function openWorkRestSchedule() {
            var modal = addslidersModel("work_rest_schedule_modal", "60%");
            var url = "/main/queryRestSchedule";
            modal.modal({
                remote: url
            }).on('hide.bs.modal', function () {
                modal.remove();
            });
        }
    </script>
    <!-- inline scripts related to this page -->
    <script type="text/javascript">
        $(document).ready(function () {
            var bar = $.cookie('selectionBar');
            if (bar && bar != 0) {
                if (true) {
                    var barObj = document.getElementById(bar);
                    var pts = $("#" + bar).parents("li");
                    for (var i = 0; i < pts.length; i++) {
                        pts[i].className = "active open";
                    }
                    barObj == null ? barObj = document.getElementById(bar) : barObj.className = "active";
                    $(barObj).find("a").prepend("<i class='menu-icon fa fa-caret-right'></i>");
                }

                var lastmenu = $("#" + bar).find("a").first().text();
                var secmenu = $("#" + bar).parent().parent().find("a").first().text();
                var firmenu = $("#" + bar).parent().parent().parent().parent().find("a").first().text();

                $("#lastmenu").html(lastmenu.replace(/(^\s*)|(\s*$)/g, ""));
                $("#secmenu").html(secmenu.replace(/(^\s*)|(\s*$)/g, ""));
                $("#firmenu").html(firmenu.replace(/(^\s*)|(\s*$)/g, ""));
            } else {
                $("#lastmenu").remove();
                $("#secmenu").remove();
                $("#firmenu").remove();
            }
        });

        var sUserAgent = navigator.userAgent.toLowerCase();
        var bIsIpad = sUserAgent.match(/ipad/i) == "ipad";
        var bIsIphoneOs = sUserAgent.match(/iphone os/i) == "iphone os";
        var bIsMidp = sUserAgent.match(/midp/i) == "midp";
        var bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == "rv:1.2.3.4";
        var bIsUc = sUserAgent.match(/ucweb/i) == "ucweb";
        var bIsAndroid = sUserAgent.match(/android/i) == "android";
        var bIsCE = sUserAgent.match(/windows ce/i) == "windows ce";
        var bIsWM = sUserAgent.match(/windows mobile/i) == "windows mobile";

        function toSelect(obj) {
            $.cookie('selectionBar', obj.id, {
                path: '/'
            });
        }

        function removeCookie() {
            $.cookie('JSESSIONID', null);
        }

        /* function openLayIM() {
            if ($('.layui-layim-close').size() > 0) {
                $('.layui-layim-close').trigger('click');
            }
        }
        function closeLayIM(){
            if ($('.layui-layer-close').size() > 0) {
                $('.layui-layer-close').trigger('click');
            }
        }*/
    </script>


</body>

</html>